package main

import (
	"encoding/xml"
	"os"
)

func main() {
	fields := []SimpleField{
		{
			Name: "STATEFP10",
			Type: "string",
		},
		{
			Name: "COUNTYFP10",
			Type: "string",
		},
	}

	data := []SimpleData{
		{
			Name:  "STATEFP10",
			Value: 53,
		},
		{
			Name:  "COUNTYFP10",
			Value: "001",
		},
	}

	v := &KML{
		XMLNs: "http://www.opengis.net/kml/2.2",
		Document: &Document{
			Folder: &Folder{
				Name: "county10",
			},

			Schema: &Schema{
				Name:         "county10",
				Id:           "county10",
				SimpleFields: fields,
			},

			Placemark: &Placemark{
				Style: &Style{
					LineStyle: &LineStyle{Color: "FFFFFF"},
					PolyStyle: &PolyStyle{Fill: "0"},
				},

				ExtendedData: &ExtendedData{
					SchemaData: &SchemaData{
						SchemaURL:  "#county10",
						SimpleData: data,
					},
				},

				Polygon: &Polygon{
					OuterBoundaryIs: &OuterBoundaryIs{
						LinearRing: &LinearRing{
							Coordinates: "-118.98254805808614,46.911347333288994 -118.98251205658734,46.914382331244724 -118.98240605208865,46.923506325099368 -118.98237105059073,46.926547323051238 -118.98236905054021,46.926646322984489 -118.98236205023512,46.927266322566929 -118.98234904968713,46.928378321818009 -118.98228504698035,46.933873318117158 -118.98226504608046,46.935706316882786 -118.98225204560646,46.936661316239487 -118.98222104419851,46.939531314306805 -118.98221004372778,46.940488313662314 -118.98221104372463,46.940499313654989",
						},
					},
				},
			},
		},
	}

	os.Stdout.WriteString(xml.Header)
	enc := xml.NewEncoder(os.Stdout)
	enc.Indent("    ", "    ")

	err := enc.Encode(v)
	if err != nil {
		panic(err)
	}
}
